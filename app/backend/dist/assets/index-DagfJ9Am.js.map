{"version":3,"file":"index-DagfJ9Am.js","sources":["../../../frontend/src/assets/logo.jpg","../../../frontend/src/components/banner.tsx","../../../frontend/src/services/apiClient.ts","../../../frontend/src/services/ItemService.ts","../../../frontend/src/validators/validateName.ts","../../../frontend/src/validators/validateComment.ts","../../../frontend/src/hooks/useItemValidation.ts","../../../frontend/src/types/enums.ts","../../../frontend/src/components/inventory/editModal.tsx","../../../frontend/src/components/inventory/deleteModal.tsx","../../../frontend/src/components/inventory/addModal.tsx","../../../frontend/src/components/inventory/statusFilter.tsx","../../../frontend/src/components/inventory/categoryFilter.tsx","../../../frontend/src/components/inventory/itemRow.tsx","../../../frontend/src/components/errorModal.tsx","../../../frontend/src/components/loadingIndicator.tsx","../../../frontend/src/components/inventory/itemList.tsx","../../../frontend/src/components/navigation.tsx","../../../frontend/src/services/CalendarEventService.ts","../../../frontend/src/validators/validateDate.ts","../../../frontend/src/hooks/useCalendarValidation.ts","../../../frontend/src/components/calendar/addModal.tsx","../../../frontend/src/components/calendar/editModal.tsx","../../../frontend/src/components/calendar/customToolbar.tsx","../../../frontend/src/components/calendar/calendarComponent.tsx","../../../frontend/src/App.tsx","../../../frontend/src/main.tsx"],"sourcesContent":["export default \"__VITE_ASSET__m_tO1HxV__\"","import \"./banner.css\";\r\nimport logo from \"../assets/logo.jpg\";\r\n\r\nconst Banner: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"p-3 text-center logo\">\r\n\t\t\t<img src={logo} alt=\"CottageLogo\" className=\"img-fluid\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Banner;\r\n","import axios from \"axios\";\r\nimport type { AxiosInstance } from \"axios\";\r\n\r\nconst apiClient: AxiosInstance = axios.create({\r\n\tbaseURL: import.meta.env.VITE_API_BASE_URL,\r\n\theaders: {\r\n\t\t\"Content-Type\": \"application/json\",\r\n\t},\r\n});\r\n\r\nexport default apiClient;\r\n","import type { AxiosError, AxiosResponse } from \"axios\";\r\nimport type { Item } from \"../types/item\";\r\nimport apiClient from \"./apiClient\";\r\nimport type { ItemFormData } from \"../types/itemFormData\";\r\nimport type { ProblemDetails } from \"../types/problemDetails\";\r\n\r\nclass ItemService {\r\n\tasync getItems(): Promise<Item[]> {\r\n\t\treturn apiClient\r\n\t\t\t.get<Item[]>(\"/items\")\r\n\t\t\t.then((response: AxiosResponse<Item[]>) => response.data);\r\n\t}\r\n\r\n\tasync addItem(item: ItemFormData): Promise<Item> {\r\n\t\treturn apiClient\r\n\t\t\t.post<Item>(\"/items\", item)\r\n\t\t\t.then((response: AxiosResponse<Item>) => response.data)\r\n\t\t\t.catch(this.parseError<Item>);\r\n\t}\r\n\r\n\tasync updateItem(item: Item): Promise<Item> {\r\n\t\treturn apiClient\r\n\t\t\t.put<Item>(`/items/${item.id}`, item)\r\n\t\t\t.then((response: AxiosResponse<Item>) => response.data)\r\n\t\t\t.catch(this.parseError<Item>);\r\n\t}\r\n\r\n\tasync deleteItem(id: number): Promise<void> {\r\n\t\treturn apiClient.delete(`/items/${id}`);\r\n\t}\r\n\r\n\tparseError<T>(errorResponse: AxiosError<ProblemDetails>): Promise<T> {\r\n\t\tconst errors = errorResponse.response?.data.errors;\r\n\t\tif (errors) {\r\n\t\t\tlet errorsToDisplay: string = \"\";\r\n\t\t\tObject.keys(errors).forEach((key: string) => {\r\n\t\t\t\terrorsToDisplay += errors[key] + \"\\n\";\r\n\t\t\t});\r\n\t\t\tthrow Error(errorsToDisplay);\r\n\t\t} else {\r\n\t\t\tthrow Error(errorResponse.response?.data);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst itemService = new ItemService();\r\nexport default itemService;\r\n","const validateName = (name: string, existingNames: string[]) => {\r\n\tconst trimmedName = name.trim().toLowerCase();\r\n\tif (name.trim() === \"\") {\r\n\t\treturn \"Nimi ei voi olla tyhjä\";\r\n\t} else if (name.length < 2 || name.length > 30) {\r\n\t\treturn \"Nimen pitää olla vähintään 2-30 merkkiä\";\r\n\t} else if (existingNames.includes(trimmedName)) {\r\n\t\treturn \"Nimi on jo listassa\";\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n};\r\n\r\nexport default validateName;\r\n","const validateComment = (comment: string, maxLength: number) => {\r\n\tif (comment.length > maxLength) {\r\n\t\treturn `Kommentti voi olla enintään ${maxLength} merkkiä`;\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n};\r\n\r\nexport default validateComment;\r\n","import { useEffect, useState } from \"react\";\r\nimport validateName from \"../validators/validateName\";\r\nimport validateComment from \"../validators/validateComment\";\r\n\r\nconst useItemValidation = (\r\n\tname: string,\r\n\tcomment: string,\r\n\texistingNames: string[]\r\n) => {\r\n\tconst [nameError, setNameError] = useState(\"\");\r\n\tconst [commentError, setCommentError] = useState(\"\");\r\n\tconst [formSubmitted, setFormSubmitted] = useState(false);\r\n\tconst commentMaxLength = 100;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst existingNamesLowercase = existingNames.map((item) =>\r\n\t\t\titem.toLowerCase()\r\n\t\t);\r\n\r\n\t\tsetNameError(validateName(name, existingNamesLowercase));\r\n\t\tsetCommentError(validateComment(comment, commentMaxLength));\r\n\t}, [name, comment, existingNames]);\r\n\r\n\treturn { nameError, commentError, formSubmitted, setFormSubmitted };\r\n};\r\n\r\nexport default useItemValidation;\r\n","export enum Status {\r\n\tPaljon = 1,\r\n\tLöytyy = 2,\r\n\tLopussa = 3,\r\n\t\"?\" = 4,\r\n}\r\n\r\nexport enum Category {\r\n\tKuivaruoka = 1,\r\n\tJääkaappi = 2,\r\n\tJuomat = 3,\r\n\tPakastin = 4,\r\n\tMuut = 5,\r\n}\r\n\r\nexport enum CalendarEventColor {\r\n\t\"#BB0C0C\" = 1,\r\n\t\"green\" = 2,\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport type { Item } from \"../../types/item\";\r\nimport type { ModalProps } from \"../../types/modalProps\";\r\nimport itemService from \"../../services/ItemService\";\r\nimport useValidation from \"../../hooks/useItemValidation\";\r\nimport { Category, Status } from \"../../types/enums\";\r\nimport type { ItemFormData } from \"../../types/itemFormData\";\r\nimport \"../modal.css\";\r\n\r\nconst EditModal: React.FC<ModalProps> = (props) => {\r\n\tconst [formData, setFormData] = useState<ItemFormData>({\r\n\t\tname: props.selectedItem?.name ?? \"\",\r\n\t\tstatus: props.selectedItem?.status ?? Status[\"?\"],\r\n\t\tcomment: props.selectedItem?.comment ?? \"\",\r\n\t\tcategory: props.selectedItem?.category ?? Category.Muut,\r\n\t});\r\n\r\n\tconst { nameError, commentError, formSubmitted, setFormSubmitted } =\r\n\t\tuseValidation(\r\n\t\t\tformData.name,\r\n\t\t\tformData.comment,\r\n\t\t\tprops.items\r\n\t\t\t\t.filter((item) => item.id !== props.selectedItem?.id)\r\n\t\t\t\t.map((item) => item.name)\r\n\t\t);\r\n\r\n\tconst handleSave = async () => {\r\n\t\tif (props.selectedItem) {\r\n\t\t\tsetFormSubmitted(true);\r\n\t\t\tif (nameError.length < 1 && commentError.length < 1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\teditItem(props.selectedItem.id);\r\n\t\t\t\t\tprops.setShowModal(false);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(\"Error updating item:\", e);\r\n\t\t\t\t\tprops.setError(\"Muokkaus ei onnistunut\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst editItem = async (itemId: number) => {\r\n\t\tconst updateData: Item = {\r\n\t\t\t...formData,\r\n\t\t\tid: itemId,\r\n\t\t\tupdatedOn: props.selectedItem?.updatedOn,\r\n\t\t};\r\n\r\n\t\tconst updatedItem: Item = await itemService.updateItem(updateData);\r\n\t\tconst updatedItems = props.items.map((item) =>\r\n\t\t\titem.id === itemId ? updatedItem : item\r\n\t\t);\r\n\t\tprops.setItems(updatedItems);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tshow={true}\r\n\t\t\tonHide={() => props.setShowModal(false)}\r\n\t\t\taria-labelledby=\"edit-item-modal\"\r\n\t\t>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title id=\"edit-item-modal\">Muokkaa</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"name-input\">Nimi</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.name}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({ ...formData, name: e.target.value })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{nameError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{nameError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"status\">Jäljellä</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"status\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.status}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tstatus: Number(e.target.value) as Status,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.entries(Status)\r\n\t\t\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"comment-input\">Kommentti</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\tid=\"comment-input\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.comment}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({ ...formData, comment: e.target.value })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{commentError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{commentError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"category\">Kategoria</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.category}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tcategory: Number(e.target.value) as Category,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.entries(Category)\r\n\t\t\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={() => props.setShowModal(false)}\r\n\t\t\t\t\taria-label=\"Cancel\"\r\n\t\t\t\t>\r\n\t\t\t\t\tPeruuta\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\tonClick={handleSave}\r\n\t\t\t\t\taria-label={`Save changes on ${props.selectedItem?.name}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tTallenna\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default EditModal;\r\n","import { Modal, Button } from \"react-bootstrap\";\r\nimport type { ModalProps } from \"../../types/modalProps\";\r\nimport itemService from \"../../services/ItemService\";\r\n\r\nconst DeleteModal: React.FC<ModalProps> = (props) => {\r\n\tconst handleConfirmDelete = async (): Promise<void> => {\r\n\t\tif (props.selectedItem) {\r\n\t\t\ttry {\r\n\t\t\t\tawait deleteItem(props.selectedItem.id);\r\n\t\t\t\tprops.setShowModal(false);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"Error deleting item:\", e);\r\n\t\t\t\tprops.setError(\"Poistaminen ei onnistunut\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteItem = async (itemId: number): Promise<void> => {\r\n\t\tawait itemService.deleteItem(itemId);\r\n\t\tconst updatedItems = props.items.filter((item) => item.id !== itemId);\r\n\t\tprops.setItems(updatedItems);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Modal\r\n\t\t\t\tshow={true}\r\n\t\t\t\tonHide={() => props.setShowModal(false)}\r\n\t\t\t\taria-labelledby=\"delete-item-modal\"\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"delete-item-modal\">Poista</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<p>Haluatko varmasti poistaa {props.selectedItem?.name}?</p>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => props.setShowModal(false)}\r\n\t\t\t\t\t\taria-label=\"Cancel\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPeruuta\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\tonClick={handleConfirmDelete}\r\n\t\t\t\t\t\taria-label={`Delete ${props.selectedItem?.name}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPoista\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DeleteModal;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport type { Item } from \"../../types/item\";\r\nimport type { ModalProps }from \"../../types/modalProps\";\r\nimport itemService from \"../../services/ItemService\";\r\nimport useValidation from \"../../hooks/useItemValidation\";\r\nimport { Category, Status } from \"../../types/enums\";\r\nimport type { ItemFormData } from \"../../types/itemFormData\";\r\nimport \"../modal.css\";\r\n\r\nconst AddModal: React.FC<ModalProps> = (props) => {\r\n\tconst [formData, setFormData] = useState<ItemFormData>({\r\n\t\tname: \"\",\r\n\t\tstatus: Status[\"?\"],\r\n\t\tcomment: \"\",\r\n\t\tcategory: Category.Muut,\r\n\t});\r\n\r\n\tconst { nameError, commentError, formSubmitted, setFormSubmitted } =\r\n\t\tuseValidation(\r\n\t\t\tformData.name,\r\n\t\t\tformData.comment,\r\n\t\t\tprops.items.map((item) => item.name)\r\n\t\t);\r\n\r\n\tconst handleSave = async () => {\r\n\t\tsetFormSubmitted(true);\r\n\t\tif (nameError.length < 1 && commentError.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tconst addedItem: Item = await itemService.addItem(formData);\r\n\t\t\t\tprops.setItems([...props.items, addedItem]);\r\n\t\t\t\tprops.setShowModal(false);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"Error adding item:\", e);\r\n\t\t\t\tprops.setError(\"Lisäys ei onnistunut\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tshow={true}\r\n\t\t\tonHide={() => props.setShowModal(false)}\r\n\t\t\taria-labelledby=\"add-item-modal\"\r\n\t\t>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title id=\"add-item-modal\">Lisää</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"name-input\">Nimi</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.name}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({ ...formData, name: e.target.value })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{nameError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{nameError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"status\">Jäljellä</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"status\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.status}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tstatus: Number(e.target.value) as Status,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.entries(Status)\r\n\t\t\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"comment-input\">Kommentti</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid=\"comment-input\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.comment}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({ ...formData, comment: e.target.value })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{commentError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{commentError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"category\">Kategoria</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.category}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tcategory: Number(e.target.value) as Category,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.entries(Category)\r\n\t\t\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={() => props.setShowModal(false)}\r\n\t\t\t\t\taria-label=\"Cancel\"\r\n\t\t\t\t>\r\n\t\t\t\t\tPeruuta\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"primary\" onClick={handleSave} aria-label=\"Save\">\r\n\t\t\t\t\tTallenna\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default AddModal;\r\n","import { Status } from \"../../types/enums\";\r\n\r\ninterface StatusFilterProps {\r\n\tselectedStatus: number | null;\r\n\tsetSelectedStatus: React.Dispatch<React.SetStateAction<number | null>>;\r\n}\r\n\r\nconst StatusFilter: React.FC<StatusFilterProps> = ({\r\n\tselectedStatus,\r\n\tsetSelectedStatus,\r\n}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<label htmlFor=\"statusFilter\"></label>\r\n\t\t\t<select\r\n\t\t\t\tid=\"statusFilter\"\r\n\t\t\t\tvalue={selectedStatus || \"\"}\r\n\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\tsetSelectedStatus(\r\n\t\t\t\t\t\te.target.value ? parseInt(e.target.value, 10) : null\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<option value=\"\">Kaikki</option>\r\n\t\t\t\t{Object.entries(Status)\r\n\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default StatusFilter;\r\n","import { Category } from \"../../types/enums\";\r\n\r\ninterface CategoryFilterProps {\r\n\tselectedCategory: number | null;\r\n\tsetSelectedCategory: React.Dispatch<React.SetStateAction<number | null>>;\r\n}\r\n\r\nconst CategoryFilter: React.FC<CategoryFilterProps> = ({\r\n\tselectedCategory,\r\n\tsetSelectedCategory,\r\n}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<label htmlFor=\"categoryFilter\" aria-label=\"Select category\"></label>\r\n\t\t\t<select\r\n\t\t\t\tid=\"categoryFilter\"\r\n\t\t\t\tvalue={selectedCategory || \"\"}\r\n\t\t\t\tonChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n\t\t\t\t\tsetSelectedCategory(\r\n\t\t\t\t\t\te.target.value ? parseInt(e.target.value, 10) : null\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<option value=\"\">Kaikki</option>\r\n\t\t\t\t{Object.entries(Category)\r\n\t\t\t\t\t.filter(([key]) => isNaN(Number(key)))\r\n\t\t\t\t\t.map(([key, value]) => (\r\n\t\t\t\t\t\t<option key={key} value={value}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CategoryFilter;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { AiOutlineEdit, AiOutlineDelete } from \"react-icons/ai\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport type { Item } from \"../../types/item\";\r\nimport { Category, Status } from \"../../types/enums\";\r\n\r\ninterface ItemRowProps {\r\n\titem: Item;\r\n\thandleStatusUpdate: (item: Item) => void;\r\n\thandleCommentChange: (item: Item, comment: string) => void;\r\n\thandleEdit: (item: Item) => void;\r\n\thandleDelete: (item: Item) => void;\r\n}\r\n\r\nconst ItemRow: React.FC<ItemRowProps> = ({\r\n\titem,\r\n\thandleStatusUpdate,\r\n\thandleCommentChange,\r\n\thandleEdit,\r\n\thandleDelete,\r\n}) => {\r\n\tconst inputRef = useRef<HTMLInputElement>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inputRef.current) {\r\n\t\t\tinputRef.current.value = item.comment || \"\";\r\n\t\t}\r\n\t}, [item.comment]);\r\n\r\n\tconst saveComment = () => {\r\n\t\tif (inputRef.current) {\r\n\t\t\thandleCommentChange(item, inputRef.current.value);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<tr tabIndex={0}>\r\n\t\t\t<td>{item.name}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => handleStatusUpdate(item)}\r\n\t\t\t\t\tvariant={\r\n\t\t\t\t\t\titem.status === 1\r\n\t\t\t\t\t\t\t? \"primary\"\r\n\t\t\t\t\t\t\t: item.status === 2\r\n\t\t\t\t\t\t\t? \"warning\"\r\n\t\t\t\t\t\t\t: item.status === 3\r\n\t\t\t\t\t\t\t? \"danger\"\r\n\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{Status[item.status]}\r\n\t\t\t\t</Button>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tdefaultValue={item.comment || \"\"}\r\n\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\tonBlur={saveComment}\r\n\t\t\t\t\tonKeyDown={(e) => {\r\n\t\t\t\t\t\tif (e.key === \"Enter\") {\r\n\t\t\t\t\t\t\te.currentTarget.blur();\r\n\t\t\t\t\t\t\tsaveComment();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"comment-input\"\r\n\t\t\t\t/>\r\n\t\t\t</td>\r\n\t\t\t<td>{new Date(item.updatedOn ?? \"\").toLocaleDateString(\"fi-FI\")}</td>\r\n\t\t\t<td>{Category[item.category]}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<AiOutlineEdit\r\n\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\tclassName=\"edit-icon\"\r\n\t\t\t\t\tonClick={() => handleEdit(item)}\r\n\t\t\t\t\tonKeyDown={(e) => {\r\n\t\t\t\t\t\tif (e.key === \"Enter\") {\r\n\t\t\t\t\t\t\thandleEdit(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taria-label={`Muokkaa ${item.name}`}\r\n\t\t\t\t/>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<AiOutlineDelete\r\n\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\tclassName=\"delete-icon\"\r\n\t\t\t\t\tonClick={() => handleDelete(item)}\r\n\t\t\t\t\tonKeyDown={(e) => {\r\n\t\t\t\t\t\tif (e.key === \"Enter\") {\r\n\t\t\t\t\t\t\thandleDelete(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taria-label={`Poista ${item.name}`}\r\n\t\t\t\t/>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default ItemRow;\r\n","import { Modal, Button } from \"react-bootstrap\";\r\n\r\ninterface ErrorModalProps {\r\n\terrorMessage?: string | null;\r\n\tonClose: () => void;\r\n}\r\n\r\nconst ErrorModal: React.FC<ErrorModalProps> = ({ errorMessage, onClose }) => {\r\n\tconst closeHandler: () => void = () => {\r\n\t\tonClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal show={true} onHide={closeHandler}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Oho! Jotain meni vikaan</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>{errorMessage}</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={closeHandler}\r\n\t\t\t\t\taria-label=\"Close error modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\tSulje\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ErrorModal;\r\n","import { Spinner } from \"react-bootstrap\";\r\n\r\nconst LoadingIndicator: React.FC = () => (\r\n\t<div className=\"container d-flex justify-content-center align-items-center\">\r\n\t\t<Spinner\r\n\t\t\tanimation=\"border\"\r\n\t\t\tvariant=\"primary\"\r\n\t\t\trole=\"status\"\r\n\t\t\taria-label=\"Loading...\"\r\n\t\t/>\r\n\t</div>\r\n);\r\n\r\nexport default LoadingIndicator;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport type { Item } from \"../../types/item\";\r\nimport EditModal from \"./editModal\";\r\nimport DeleteModal from \"./deleteModal\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport AddModal from \"./addModal\";\r\nimport \"./itemList.css\";\r\nimport itemService from \"../../services/ItemService\";\r\nimport StatusFilter from \"./statusFilter\";\r\nimport CategoryFilter from \"./categoryFilter\";\r\nimport ItemRow from \"./itemRow\";\r\nimport ErrorModal from \"../errorModal\";\r\nimport LoadingIndicator from \"../loadingIndicator\";\r\n\r\nconst ItemList: React.FC = () => {\r\n\tconst [items, setItems] = useState<Item[]>([]);\r\n\tconst [selectedItem, setSelectedItem] = useState<Item | null>(null);\r\n\tconst [showAddModal, setShowAddModal] = useState(false);\r\n\tconst [showEditModal, setShowEditModal] = useState(false);\r\n\tconst [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\tconst [selectedCategory, setSelectedCategory] = useState<number | null>(null);\r\n\tconst [selectedStatus, setSelectedStatus] = useState<number | null>(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst fetchData = async (): Promise<void> => {\r\n\t\tsetIsLoading(true);\r\n\t\ttry {\r\n\t\t\tconst fetchedItems: Item[] = await itemService.getItems();\r\n\t\t\tconsole.log(\"Fetched items:\", fetchedItems);\r\n\t\t\tsetItems(fetchedItems);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Error fetching items:\", e);\r\n\t\t\tsetError(\"Inventaarion haku ei onnistunut\");\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleEdit = (item: Item): void => {\r\n\t\tsetSelectedItem(item);\r\n\t\tsetShowEditModal(true);\r\n\t};\r\n\r\n\tconst handleDelete = (item: Item): void => {\r\n\t\tsetSelectedItem(item);\r\n\t\tsetShowDeleteModal(true);\r\n\t};\r\n\r\n\tconst handleStatusUpdate = async (item: Item): Promise<void> => {\r\n\t\ttry {\r\n\t\t\tconst numberOfStatuses: number = 4;\r\n\t\t\tconst nextStatus: number = (item.status % numberOfStatuses) + 1;\r\n\t\t\tconst updatedItem: Item = { ...item, status: nextStatus };\r\n\t\t\tawait itemService.updateItem(updatedItem);\r\n\t\t\tconst updatedItems: Item[] = items.map((it) =>\r\n\t\t\t\tit.id === item.id ? updatedItem : it\r\n\t\t\t);\r\n\t\t\tsetItems(updatedItems);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Error updating status:\", e);\r\n\t\t\tsetError(\"Statuksen päivitys ei onnistunut\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCommentChange = async (\r\n\t\titem: Item,\r\n\t\tcomment: string\r\n\t): Promise<void> => {\r\n\t\ttry {\r\n\t\t\tconst updatedItem: Item = { ...item, comment: comment };\r\n\t\t\tawait itemService.updateItem(updatedItem);\r\n\t\t\tconst updatedItems: Item[] = items.map((i) =>\r\n\t\t\t\ti.id === item.id ? { ...i, comment } : i\r\n\t\t\t);\r\n\t\t\tsetItems(updatedItems);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error updating status:\", error);\r\n\t\t\tsetError(\"Kommentin päivitys ei onnistunut\");\r\n\t\t}\r\n\t};\r\n\r\n\tif (isLoading) {\r\n\t\treturn <LoadingIndicator />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th scope=\"col\">Nimi</th>\r\n\t\t\t\t\t\t<th scope=\"col\">\r\n\t\t\t\t\t\t\t<StatusFilter\r\n\t\t\t\t\t\t\t\taria-label=\"Choose status filter\"\r\n\t\t\t\t\t\t\t\tselectedStatus={selectedStatus}\r\n\t\t\t\t\t\t\t\tsetSelectedStatus={setSelectedStatus}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tJäljellä\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th scope=\"col\">Kommentti</th>\r\n\t\t\t\t\t\t<th scope=\"col\">Muokattu</th>\r\n\t\t\t\t\t\t<th scope=\"col\">\r\n\t\t\t\t\t\t\t<CategoryFilter\r\n\t\t\t\t\t\t\t\taria-label=\"Choose category filter\"\r\n\t\t\t\t\t\t\t\tselectedCategory={selectedCategory}\r\n\t\t\t\t\t\t\t\tsetSelectedCategory={setSelectedCategory}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tKategoria\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th scope=\"col\"></th>\r\n\t\t\t\t\t\t<th scope=\"col\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\tonClick={() => setShowAddModal(true)}\r\n\t\t\t\t\t\t\t\taria-label=\"Add new\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLisää\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{items\r\n\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\r\n\t\t\t\t\t\t.map((item) => {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t(selectedCategory === null ||\r\n\t\t\t\t\t\t\t\t\titem.category === selectedCategory) &&\r\n\t\t\t\t\t\t\t\t(selectedStatus === null || item.status === selectedStatus)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ItemRow\r\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\thandleStatusUpdate={handleStatusUpdate}\r\n\t\t\t\t\t\t\t\t\t\thandleCommentChange={handleCommentChange}\r\n\t\t\t\t\t\t\t\t\t\thandleEdit={handleEdit}\r\n\t\t\t\t\t\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t<div>\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<ErrorModal\r\n\t\t\t\t\t\taria-label=\"Show error modal\"\r\n\t\t\t\t\t\terrorMessage={error}\r\n\t\t\t\t\t\tonClose={() => setError(null)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{showAddModal && (\r\n\t\t\t\t\t<AddModal\r\n\t\t\t\t\t\taria-label=\"Add new item modal\"\r\n\t\t\t\t\t\tselectedItem={null}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tsetItems={setItems}\r\n\t\t\t\t\t\tsetShowModal={setShowAddModal}\r\n\t\t\t\t\t\tsetError={setError}\r\n\t\t\t\t\t></AddModal>\r\n\t\t\t\t)}\r\n\t\t\t\t{showEditModal && (\r\n\t\t\t\t\t<EditModal\r\n\t\t\t\t\t\taria-label=\"Edit item modal\"\r\n\t\t\t\t\t\tselectedItem={selectedItem}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tsetItems={setItems}\r\n\t\t\t\t\t\tsetShowModal={setShowEditModal}\r\n\t\t\t\t\t\tsetError={setError}\r\n\t\t\t\t\t></EditModal>\r\n\t\t\t\t)}\r\n\t\t\t\t{showDeleteModal && (\r\n\t\t\t\t\t<DeleteModal\r\n\t\t\t\t\t\taria-label=\"Delete item modal\"\r\n\t\t\t\t\t\tselectedItem={selectedItem}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tsetItems={setItems}\r\n\t\t\t\t\t\tsetShowModal={setShowDeleteModal}\r\n\t\t\t\t\t\tsetError={setError}\r\n\t\t\t\t\t></DeleteModal>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ItemList;\r\n","import { Link, useMatch } from \"react-router-dom\";\r\n\r\nconst Navigation: React.FC = () => {\r\n\tconst isActive = useMatch(\"/\");\r\n\tconst isCalendarActive = useMatch(\"/calendar\");\r\n\r\n\treturn (\r\n\t\t<nav\r\n\t\t\tclassName=\"navbar navbar-expand-lg navbar-dark\"\r\n\t\t\taria-label=\"Main navigation\"\r\n\t\t>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<ul className=\"nav nav-tabs justify-content-center\">\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName={`nav-link ${isActive ? \"active\" : \"\"}`}\r\n\t\t\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\t\t\taria-current={isActive ? \"page\" : undefined}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tInventaario\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName={`nav-link ${isCalendarActive ? \"active\" : \"\"}`}\r\n\t\t\t\t\t\t\tto=\"/calendar\"\r\n\t\t\t\t\t\t\taria-current={isCalendarActive ? \"page\" : undefined}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tKalenteri\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Navigation;","import type { AxiosError, AxiosResponse } from \"axios\";\r\nimport type { CalendarEvent } from \"../types/calendarEvent\";\r\nimport apiClient from \"./apiClient\";\r\nimport type { EventFormData } from \"../types/eventFormData\";\r\nimport type { ProblemDetails } from \"../types/problemDetails\";\r\n\r\nclass CalendarEventService {\r\n\tasync getCalendarEvents(): Promise<CalendarEvent[]> {\r\n\t\treturn apiClient\r\n\t\t\t.get<CalendarEvent[]>(\"/calendar-events\")\r\n\t\t\t.then((response: AxiosResponse<CalendarEvent[]>) => response.data);\r\n\t}\r\n\r\n\tasync addCalendarEvent(event: EventFormData): Promise<CalendarEvent> {\r\n\t\treturn apiClient\r\n\t\t\t.post<CalendarEvent>(\"/calendar-events\", event)\r\n\t\t\t.then((response: AxiosResponse<CalendarEvent>) => response.data)\r\n\t\t\t.catch(this.parseError<CalendarEvent>);\r\n\t}\r\n\r\n\tasync updateCalendarEvent(event: CalendarEvent): Promise<CalendarEvent> {\r\n\t\treturn apiClient\r\n\t\t\t.put<CalendarEvent>(`/calendar-events/${event.id}`, event)\r\n\t\t\t.then((response: AxiosResponse<CalendarEvent>) => response.data)\r\n\t\t\t.catch(this.parseError<CalendarEvent>);\r\n\t}\r\n\r\n\tasync deleteCalendarEvent(id: number): Promise<void> {\r\n\t\treturn apiClient.delete(`/calendar-events/${id}`);\r\n\t}\r\n\r\n\tparseError<T>(errorResponse: AxiosError<ProblemDetails>): Promise<T> {\r\n\t\tconst errors = errorResponse.response?.data.errors;\r\n\t\tif (errors) {\r\n\t\t\tlet errorsToDisplay: string = \"\";\r\n\t\t\tObject.keys(errors).forEach((key: string) => {\r\n\t\t\t\terrorsToDisplay += errors[key] + \"\\n\";\r\n\t\t\t});\r\n\t\t\tthrow Error(errorsToDisplay);\r\n\t\t} else {\r\n\t\t\tthrow Error(errorResponse.response?.data);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst calendarEventService = new CalendarEventService();\r\nexport default calendarEventService;\r\n","const validateDate = (startDate: Date, endDate: Date) => {\r\n\tif (endDate < startDate) {\r\n\t\treturn \"Lähtöpäivä ei voi olla ennen saapumista\";\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n};\r\n\r\nexport default validateDate;\r\n","import { useEffect, useState } from \"react\";\r\nimport validateDate from \"../validators/validateDate\";\r\nimport validateComment from \"../validators/validateComment\";\r\n\r\nconst useCalendarValidation = (\r\n\tstartDate: Date,\r\n\tendDate: Date,\r\n\tcomment: string\r\n) => {\r\n\tconst [dateError, setDateError] = useState(\"\");\r\n\tconst [commentError, setCommentError] = useState(\"\");\r\n\tconst [formSubmitted, setFormSubmitted] = useState(false);\r\n\tconst commentMaxLength = 200;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDateError(validateDate(startDate, endDate));\r\n\t\tsetCommentError(validateComment(comment, commentMaxLength));\r\n\t}, [startDate, endDate, comment]);\r\n\r\n\treturn { dateError, commentError, formSubmitted, setFormSubmitted };\r\n};\r\n\r\nexport default useCalendarValidation;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport { CalendarEventColor } from \"../../types/enums\";\r\nimport type { SlotInfo } from \"react-big-calendar\";\r\nimport type { CalendarEvent } from \"../../types/calendarEvent\";\r\nimport calendarEventService from \"../../services/CalendarEventService\";\r\nimport type { EventFormData } from \"../../types/eventFormData\";\r\nimport \"../modal.css\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport moment from \"moment-timezone\";\r\nimport { fi } from \"date-fns/locale\";\r\nimport useCalendarValidation from \"../../hooks/useCalendarValidation\";\r\n\r\ninterface AddModalProps {\r\n\tslotInfo: SlotInfo;\r\n\tonClose: () => void;\r\n\tonSave: (newEvent: CalendarEvent) => void;\r\n\tsetError: (error: string) => void;\r\n}\r\n\r\nconst AddModal: React.FC<AddModalProps> = ({\r\n\tslotInfo,\r\n\tonClose,\r\n\tonSave,\r\n\tsetError,\r\n}) => {\r\n\tconst [formData, setFormData] = useState<EventFormData>({\r\n\t\tstartDate: moment(slotInfo.start).startOf(\"day\").add(12, \"hours\").toDate(),\r\n\t\tendDate: moment(slotInfo.end).startOf(\"day\").add(12, \"hours\").toDate(),\r\n\t\tnote: \"\",\r\n\t\tcolor: CalendarEventColor.green,\r\n\t});\r\n\tconst { dateError, commentError, formSubmitted, setFormSubmitted } =\r\n\t\tuseCalendarValidation(formData.startDate, formData.endDate, formData.note);\r\n\r\n\tconst handleSave = async (): Promise<void> => {\r\n\t\tsetFormSubmitted(true);\r\n\t\tif (dateError.length < 1 && commentError.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tconst addedEvent: CalendarEvent =\r\n\t\t\t\t\tawait calendarEventService.addCalendarEvent(formData);\r\n\t\t\t\tonSave(addedEvent);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"Error adding event:\", e);\r\n\t\t\t\tsetError(\"Lisäys ei onnistunut\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal show={true} onHide={onClose}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Lisää uusi mökkireissu</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"startDate\">Saapumispäivä</label>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={formData.startDate}\r\n\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\r\n\t\t\t\t\t\t\tlocale={fi}\r\n\t\t\t\t\t\t\tonChange={(date: Date | null) =>\r\n\t\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\t\tstartDate: moment(date)\r\n\t\t\t\t\t\t\t\t\t\t.tz(\"Europe/Helsinki\")\r\n\t\t\t\t\t\t\t\t\t\t.startOf(\"day\")\r\n\t\t\t\t\t\t\t\t\t\t.add(12, \"hours\")\r\n\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcalendarStartDay={1}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"endDate\">Lähtöpäivä</label>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={formData.endDate}\r\n\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\r\n\t\t\t\t\t\t\tlocale={fi}\r\n\t\t\t\t\t\t\tonChange={(date: Date | null) =>\r\n\t\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\t\tendDate: moment(date)\r\n\t\t\t\t\t\t\t\t\t\t.tz(\"Europe/Helsinki\")\r\n\t\t\t\t\t\t\t\t\t\t.startOf(\"day\")\r\n\t\t\t\t\t\t\t\t\t\t.add(12, \"hours\")\r\n\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{dateError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{dateError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"note\">Nimi</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"note\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.note}\r\n\t\t\t\t\t\tonChange={(e) => setFormData({ ...formData, note: e.target.value })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{commentError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{commentError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"color\">Väri</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.color}\r\n\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tcolor: Number(e.target.value) as CalendarEventColor,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value={CalendarEventColor[\"#BB0C0C\"]}>\r\n\t\t\t\t\t\t\tPunainen - Varattu\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value={CalendarEventColor.green}>\r\n\t\t\t\t\t\t\tVihreä - Saa tulla mukaan\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant=\"secondary\" onClick={onClose} aria-label=\"Cancel\">\r\n\t\t\t\t\tPeruuta\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"primary\" onClick={handleSave} aria-label=\"Save\">\r\n\t\t\t\t\tTallenna\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default AddModal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport { CalendarEventColor } from \"../../types/enums\";\r\nimport type { CalendarEvent } from \"../../types/calendarEvent\";\r\nimport calendarEventService from \"../../services/CalendarEventService\";\r\nimport type { EventFormData } from \"../../types/eventFormData\";\r\nimport \"../modal.css\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport moment from \"moment-timezone\";\r\nimport { fi } from \"date-fns/locale\";\r\nimport useCalendarValidation from \"../../hooks/useCalendarValidation\";\r\n\r\ninterface EditModalProps {\r\n\tevent: CalendarEvent;\r\n\tonClose: () => void;\r\n\tonSave: (oldEvent: CalendarEvent, newEvent: CalendarEvent) => void;\r\n\tonDelete: (event: CalendarEvent) => void;\r\n\tsetError: (error: string) => void;\r\n}\r\n\r\nconst EditModal: React.FC<EditModalProps> = ({\r\n\tevent,\r\n\tonClose,\r\n\tonSave,\r\n\tonDelete,\r\n\tsetError,\r\n}) => {\r\n\tconst [formData, setFormData] = useState<EventFormData>({\r\n\t\tstartDate: moment(event.startDate).startOf(\"day\").add(12, \"hours\").toDate(),\r\n\t\tendDate: moment(event.endDate).startOf(\"day\").add(12, \"hours\").toDate(),\r\n\t\tnote: event.note,\r\n\t\tcolor: event.color,\r\n\t});\r\n\tconst { dateError, commentError, formSubmitted, setFormSubmitted } =\r\n\t\tuseCalendarValidation(formData.startDate, formData.endDate, formData.note);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFormData({\r\n\t\t\tstartDate: moment(event.startDate)\r\n\t\t\t\t.startOf(\"day\")\r\n\t\t\t\t.add(12, \"hours\")\r\n\t\t\t\t.toDate(),\r\n\t\t\tendDate: moment(event.endDate).startOf(\"day\").add(12, \"hours\").toDate(),\r\n\t\t\tnote: event.note,\r\n\t\t\tcolor: event.color,\r\n\t\t});\r\n\t}, [event]);\r\n\r\n\tconst handleSave = async (): Promise<void> => {\r\n\t\tsetFormSubmitted(true);\r\n\t\tif (dateError.length < 1 && commentError.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tconst updateData: CalendarEvent = { ...event, ...formData };\r\n\t\t\t\tconst updatedEvent: CalendarEvent =\r\n\t\t\t\t\tawait calendarEventService.updateCalendarEvent(updateData);\r\n\t\t\t\tonSave(event, updatedEvent);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"Error updating event:\", e);\r\n\t\t\t\tsetError(\"Muokkaus ei onnistunut\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDelete = async (): Promise<void> => {\r\n\t\ttry {\r\n\t\t\tawait calendarEventService.deleteCalendarEvent(event.id);\r\n\t\t\tonDelete(event);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Error deleting event:\", e);\r\n\t\t\tsetError(\"Poisto ei onnistunut\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal show={true} onHide={onClose}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Muokkaa</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"startDate\">Saapumispäivä</label>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={formData.startDate}\r\n\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\r\n\t\t\t\t\t\t\tlocale={fi}\r\n\t\t\t\t\t\t\tonChange={(date: Date | null) =>\r\n\t\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\t\tstartDate: moment(date)\r\n\t\t\t\t\t\t\t\t\t\t.tz(\"Europe/Helsinki\")\r\n\t\t\t\t\t\t\t\t\t\t.startOf(\"day\")\r\n\t\t\t\t\t\t\t\t\t\t.add(12, \"hours\")\r\n\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcalendarStartDay={1}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"endDate\">Lähtöpäivä</label>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={formData.endDate}\r\n\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\r\n\t\t\t\t\t\t\tlocale={fi}\r\n\t\t\t\t\t\t\tonChange={(date: Date | null) =>\r\n\t\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\t\tendDate: moment(date)\r\n\t\t\t\t\t\t\t\t\t\t.tz(\"Europe/Helsinki\")\r\n\t\t\t\t\t\t\t\t\t\t.startOf(\"day\")\r\n\t\t\t\t\t\t\t\t\t\t.add(12, \"hours\")\r\n\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{dateError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{dateError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"note\">Nimi</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"note\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.note}\r\n\t\t\t\t\t\tonChange={(e) => setFormData({ ...formData, note: e.target.value })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{commentError && formSubmitted && (\r\n\t\t\t\t\t\t<span className=\"text-danger\">{commentError}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"color\">Väri</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={formData.color}\r\n\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\tcolor: Number(e.target.value) as CalendarEventColor,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value={CalendarEventColor[\"#BB0C0C\"]}>\r\n\t\t\t\t\t\t\tPunainen - Varattu\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value={CalendarEventColor.green}>\r\n\t\t\t\t\t\t\tVihreä - Saa tulla mukaan\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant=\"secondary\" onClick={onClose} aria-label=\"Cancel\">\r\n\t\t\t\t\tPeruuta\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"danger\" onClick={handleDelete} aria-label=\"Delete\">\r\n\t\t\t\t\tPoista\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"primary\" onClick={handleSave} aria-label=\"Save\">\r\n\t\t\t\t\tTallenna\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default EditModal;\r\n","import moment from \"moment\";\r\nimport \"./customToolbar.css\";\r\nimport type { ToolbarProps } from \"react-big-calendar\";\r\nimport type { CalendarEvent } from \"../../types/calendarEvent\";\r\n\r\nconst CustomToolbar: React.FC<ToolbarProps<CalendarEvent, object>> = (props) => {\r\n\tconst { date, onNavigate } = props;\r\n\r\n\tconst month = moment(date).format(\"MMMM\");\r\n\tconst year = moment(date).format(\"YYYY\");\r\n\r\n\treturn (\r\n\t\t<div className=\"rbc-toolbar\">\r\n\t\t\t<div className=\"toolbar-container\">\r\n\t\t\t\t<button onClick={() => onNavigate(\"PREV\")} aria-label=\"Previous Month\">\r\n\t\t\t\t\t{\"<<\"}\r\n\t\t\t\t</button>\r\n\t\t\t\t<span className=\"toolbar-label\">\r\n\t\t\t\t\t{month} {year}\r\n\t\t\t\t</span>\r\n\t\t\t\t<button onClick={() => onNavigate(\"NEXT\")} aria-label=\"Next Month\">\r\n\t\t\t\t\t{\">>\"}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CustomToolbar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport type { SlotInfo } from \"react-big-calendar\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport { CalendarEventColor } from \"../../types/enums\";\r\nimport AddModal from \"./addModal\";\r\nimport EditModal from \"./editModal\";\r\nimport type { CalendarEvent } from \"../../types/calendarEvent\";\r\nimport calendarEventService from \"../../services/CalendarEventService\";\r\nimport \"moment/locale/fi\";\r\nimport customToolbar from \"./customToolbar\";\r\nimport ErrorModal from \"../errorModal\";\r\nimport LoadingIndicator from \"../loadingIndicator\";\r\n\r\nmoment.tz.setDefault(\"Europe/Helsinki\");\r\nconst localizer = momentLocalizer(moment);\r\nlocalizer.segmentOffset = 0;\r\n\r\nconst CalendarComponent: React.FC = () => {\r\n\tconst [events, setEvents] = useState<CalendarEvent[]>([]);\r\n\tconst [selectedEvent, setSelectedEvent] = useState<CalendarEvent | null>(\r\n\t\tnull\r\n\t);\r\n\tconst [selectedSlot, setSelectedSlot] = useState<SlotInfo | null>(null);\r\n\tconst [lastUpdated, setLastUpdated] = useState<Date | null>(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchEvents();\r\n\t}, []);\r\n\r\n\tconst fetchEvents = async (): Promise<void> => {\r\n\t\tsetIsLoading(true);\r\n\t\ttry {\r\n\t\t\tconst fetchedEvents: CalendarEvent[] =\r\n\t\t\t\tawait calendarEventService.getCalendarEvents();\r\n\t\t\tsetEvents(fetchedEvents);\r\n\r\n\t\t\tlet latestDate: Date | null = null;\r\n\t\t\tfetchedEvents.forEach((p) => {\r\n\t\t\t\tconst updatedOn: Date | null = p.updatedOn\r\n\t\t\t\t\t? new Date(p.updatedOn)\r\n\t\t\t\t\t: null;\r\n\t\t\t\tif (updatedOn && (!latestDate || updatedOn > latestDate)) {\r\n\t\t\t\t\tlatestDate = updatedOn;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetLastUpdated(latestDate);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t\tsetError(\"Kalenterin haku ei onnistunut\");\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSlotSelection = (slotInfo: SlotInfo): void => {\r\n\t\tsetSelectedSlot(slotInfo);\r\n\t};\r\n\r\n\tconst handleEventSelection = (\r\n\t\tevent: CalendarEvent\r\n\t): void => {\r\n\t\tsetSelectedEvent(event);\r\n\t};\r\n\r\n\tconst handleEventUpdate = (\r\n\t\toldEvent: CalendarEvent,\r\n\t\tupdatedEvent: CalendarEvent\r\n\t): void => {\r\n\t\tconst updatedEventWithJsDates = {\r\n\t\t\t...updatedEvent,\r\n\t\t\tstartDate: new Date(updatedEvent.startDate),\r\n\t\t\tendDate: new Date(updatedEvent.endDate),\r\n\t\t\tupdatedOn: new Date(),\r\n\t\t};\r\n\t\tsetEvents(\r\n\t\t\tevents.map((event) =>\r\n\t\t\t\tevent.id === oldEvent.id ? updatedEventWithJsDates : event\r\n\t\t\t)\r\n\t\t);\r\n\t\tsetLastUpdated(new Date());\r\n\t\tsetSelectedEvent(null);\r\n\t};\r\n\r\n\tconst handleEventDelete = (eventToDelete: CalendarEvent): void => {\r\n\t\tsetEvents(events.filter((event) => event.id !== eventToDelete.id));\r\n\t\tsetLastUpdated(new Date());\r\n\t\tsetSelectedEvent(null);\r\n\t};\r\n\r\n\tif (isLoading) {\r\n\t\treturn <LoadingIndicator />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<Calendar\r\n\t\t\t\tviews={[\"month\"]}\r\n\t\t\t\tmessages={{\r\n\t\t\t\t\tnext: \"Seuraava kuukausi >>\",\r\n\t\t\t\t\tprevious: \"<< Edellinen kuukausi\",\r\n\t\t\t\t\ttoday: \"Tänään\",\r\n\t\t\t\t\tmonth: \"Kuukausi\",\r\n\t\t\t\t}}\r\n\t\t\t\tlocalizer={localizer}\r\n\t\t\t\tevents={events.map((event) => ({ ...event, title: event.note }))}\r\n\t\t\t\tstartAccessor={(event) => event.startDate}\r\n\t\t\t\tendAccessor={(event) => event.endDate}\r\n\t\t\t\tstyle={{ height: 500, cursor: \"pointer\" }}\r\n\t\t\t\teventPropGetter={(event: CalendarEvent) => ({\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbackgroundColor: CalendarEventColor[event.color],\r\n\t\t\t\t\t\theight: \"30px\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})}\r\n\t\t\t\tselectable={true}\r\n\t\t\t\tonSelectSlot={handleSlotSelection}\r\n\t\t\t\tonSelectEvent={handleEventSelection}\r\n\t\t\t\tcomponents={{ toolbar: customToolbar }}\r\n\t\t\t/>\r\n\t\t\t{error && (\r\n\t\t\t\t<ErrorModal errorMessage={error} onClose={() => setError(null)} />\r\n\t\t\t)}\r\n\t\t\t{selectedSlot && (\r\n\t\t\t\t<AddModal\r\n\t\t\t\t\tslotInfo={selectedSlot}\r\n\t\t\t\t\tonClose={() => setSelectedSlot(null)}\r\n\t\t\t\t\tonSave={(newEvent: CalendarEvent) => {\r\n\t\t\t\t\t\tsetEvents((prevEvents) => [...prevEvents, newEvent]);\r\n\t\t\t\t\t\tsetLastUpdated(new Date(newEvent.updatedOn));\r\n\t\t\t\t\t\tsetSelectedSlot(null);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsetError={setError}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{selectedEvent && (\r\n\t\t\t\t<EditModal\r\n\t\t\t\t\tevent={selectedEvent}\r\n\t\t\t\t\tonClose={() => setSelectedEvent(null)}\r\n\t\t\t\t\tonSave={handleEventUpdate}\r\n\t\t\t\t\tonDelete={handleEventDelete}\r\n\t\t\t\t\tsetError={setError}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\tMuokattu:{\" \"}\r\n\t\t\t\t\t{lastUpdated ? moment(lastUpdated).format(\"DD/MM/YYYY HH:mm\") : \"?\"}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CalendarComponent;\r\n","import { Route, Routes } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Banner from \"./components/banner\";\nimport ItemList from \"./components/inventory/itemList\";\nimport Navigation from \"./components/navigation\";\nimport CalendarComponent from \"./components/calendar/calendarComponent\";\n\nconst App: React.FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<Banner />\n\t\t\t<div>\n\t\t\t\t<Navigation />\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<ItemList />} />\n\t\t\t\t\t<Route path=\"/calendar\" element={<CalendarComponent />} />\n\t\t\t\t</Routes>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css'\nimport App from './App.tsx'\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n  </StrictMode>,\n)\n"],"names":["logo","Banner","jsx","apiClient","axios","ItemService","response","item","id","errorResponse","errors","errorsToDisplay","key","itemService","validateName","name","existingNames","trimmedName","validateComment","comment","maxLength","useItemValidation","nameError","setNameError","useState","commentError","setCommentError","formSubmitted","setFormSubmitted","commentMaxLength","useEffect","existingNamesLowercase","Status","Category","CalendarEventColor","EditModal","props","formData","setFormData","useValidation","handleSave","editItem","e","itemId","updateData","updatedItem","updatedItems","jsxs","Modal","value","Button","DeleteModal","handleConfirmDelete","deleteItem","AddModal","addedItem","StatusFilter","selectedStatus","setSelectedStatus","CategoryFilter","selectedCategory","setSelectedCategory","ItemRow","handleStatusUpdate","handleCommentChange","handleEdit","handleDelete","inputRef","useRef","saveComment","AiOutlineEdit","AiOutlineDelete","ErrorModal","errorMessage","onClose","closeHandler","LoadingIndicator","Spinner","ItemList","items","setItems","selectedItem","setSelectedItem","showAddModal","setShowAddModal","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","isLoading","setIsLoading","error","setError","fetchData","fetchedItems","nextStatus","it","i","a","b","Navigation","isActive","useMatch","isCalendarActive","Link","CalendarEventService","event","calendarEventService","validateDate","startDate","endDate","useCalendarValidation","dateError","setDateError","slotInfo","onSave","moment","addedEvent","DatePicker","fi","date","onDelete","updatedEvent","CustomToolbar","onNavigate","month","year","localizer","momentLocalizer","CalendarComponent","events","setEvents","selectedEvent","setSelectedEvent","selectedSlot","setSelectedSlot","lastUpdated","setLastUpdated","fetchEvents","fetchedEvents","latestDate","p","updatedOn","handleSlotSelection","handleEventSelection","handleEventUpdate","oldEvent","updatedEventWithJsDates","handleEventDelete","eventToDelete","Calendar","customToolbar","newEvent","prevEvents","App","Fragment","Routes","Route","createRoot","StrictMode","BrowserRouter"],"mappings":"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"}